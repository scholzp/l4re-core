include $(L4DIR)/mk/Makeconf

UNWIND_LLVM_CONTRIB_MIN_VERSION := 15
UNWIND_LLVM_CONTRIB_MAX_VERSION := 16
UNWIND_LLVM_CONTRIB_SUPPORTED_VERSIONS := $(shell seq $(UNWIND_LLVM_CONTRIB_MIN_VERSION) $(UNWIND_LLVM_CONTRIB_MAX_VERSION))
UNWIND_LLVM_CONTRIB_VERSION := $(GCCVERSION)

ifeq ($(filter $(UNWIND_LLVM_CONTRIB_VERSION),$(UNWIND_LLVM_CONTRIB_SUPPORTED_VERSIONS)),)
$(warning No suitable libunwind_lvmm version found for clang $(UNWIND_LLVM_CONTRIB_VERSION).)
$(warning Falling back to libunwind_lvmm $(UNWIND_LLVM_CONTRIB_MAX_VERSION), unexpected errors may occur.)
$(warning Please update the libunwind_lvmm package.)
UNWIND_LLVM_CONTRIB_VERSION := $(UNWIND_LLVM_CONTRIB_MAX_VERSION)
endif

UNWIND_LLVM_CONTRIB_VERSIONS := $(shell seq $(UNWIND_LLVM_CONTRIB_VERSION) -1 $(UNWIND_LLVM_CONTRIB_MIN_VERSION))
UNWIND_LLVM_CONTRIB_SUFFIX_VERSIONS := $(addprefix -,$(UNWIND_LLVM_CONTRIB_VERSIONS))

UNWIND_LLVM_CONTRIB_DIR = $(UNWIND_LLVM_PKG_DIR)/contrib/llvm-$(UNWIND_LLVM_CONTRIB_VERSION)
UNWIND_LLVM_CONTRIB_SRC_DIR = $(UNWIND_LLVM_CONTRIB_DIR)/libunwind
