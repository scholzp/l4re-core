# Makefile for uClibc
#
# Copyright (C) 2000-2008 Erik Andersen <andersen@uclibc.org>
#
# Licensed under the LGPL v2.1, see the file COPYING.LIB in this tarball.
#

subdirs += libnsl

CFLAGS-libnsl := -DNOT_IN_libc -DIS_IN_libnsl $(SSP_ALL_CFLAGS)

libnsl_DIR := $(top_srcdir)libnsl
libnsl_OUT := $(top_builddir)libnsl

libnsl_SRC := $(libnsl_DIR)/nsl.c
libnsl_OBJ := $(patsubst $(libnsl_DIR)/%.c,$(libnsl_OUT)/%.o,$(libnsl_SRC))

ifeq ($(DOPIC),y)
libnsl-a-y := $(libnsl_OBJ:.o=.os)
else
libnsl-a-y := $(libnsl_OBJ)
endif
libnsl-so-y := $(libnsl_OBJ:.o=.os)

objclean-y += CLEAN_libnsl

CLEAN_libnsl:
	$(do_rm) $(addprefix $(libnsl_OUT)/*., o os a)
